(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/navigation.414164e5.svg"},,,,function(e,t,n){e.exports=n(41)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/marker.6a7000a0.svg"},function(e,t,n){e.exports=n.p+"static/media/parking-marker.63ef69d0.svg"},,,function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),i=n.n(c),u=(n(26),n(27),n(8)),o=(n(28),n(44)),s=n(46),l=n(1),m=n.n(l),p=new m.a.Icon({iconUrl:n(29),iconSize:[30,45],iconAnchor:[12,36],popupAnchor:[3,-25]}),d=new m.a.Icon({iconUrl:n(30),iconSize:[30,45],iconAnchor:[12,36],popupAnchor:[3,-25]}),f={tileSource:"https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}{r}.png",ext:"png",attribution:'&amp;copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',centerCoordinates:[54.5,18.47]},h=n(7),g=n.n(h),v=n(9),E=n(42),w=function(e){switch(e){case"weatherStations":return"http://api.zdiz.gdynia.pl/ri/rest/weather_stations";case"weatherStationsData":return"http://api.zdiz.gdynia.pl/ri/rest/weather_stations_data";case"parkings":return"http://api.zdiz.gdynia.pl/ri/rest/parkings";case"parkingsData":return"http://api.zdiz.gdynia.pl/ri/rest/parking_places";case"roads":return"http://api.zdiz.gdynia.pl/ri/rest/road_segments";case"roadsData":return"http://api.zdiz.gdynia.pl/ri/rest/traffic_intensities?segmentId=00111";default:return""}},y=function(){var e=Object(v.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://cors-anywhere.herokuapp.com/").concat(w(t)));case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),k=n(45),b=n(17),_=n.n(b),x=(n(33),function(e){var t=e.direction;return r.a.createElement("img",{alt:"wind-indicator",className:"arrow",src:_.a,style:{transform:"rotate(".concat(t,"deg)")}})}),j=function(e){var t=e.id,n=e.street,r=e.airTemperature,c=e.surfaceTemperature,i=e.windDirection;return a.createElement(a.Fragment,null,a.createElement(k.a,null,a.createElement("p",null,"Identyfikator stacji: ",t||"Brak danych"),a.createElement("p",null,"Lokalizacja: ",n||"Brak danych"),a.createElement("p",null,"Temperatura powietrza: ",r||"Brak danych"),a.createElement("p",null,"Temperatura powierzchni: ",c||"Brak danych"),a.createElement("p",null,"Kierunek wiatru:"," ",a.createElement(x,{direction:i})||"Brak danych")))},O=(n(36),function(){return r.a.createElement("div",{className:"loader__container"},r.a.createElement("div",{className:"loader__spinner"}))}),z=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)(function(){c().then(function(e){r(e)})},[]);var c=function(){var e=Object(v.a)(g.a.mark(function e(){var t,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("weatherStations");case 2:return t=e.sent,e.next=5,y("weatherStationsData");case 5:return n=e.sent,e.abrupt("return",i(t,n));case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),i=function(e,t){return e.weatherStations.map(function(e){var n=t.filter(function(t){return t.weatherStationId===e.id});return Object.assign({},e,n[0])})};return a.createElement(a.Fragment,null,n.length?n.map(function(e){var t,n=e.location.coordinates;return a.createElement(E.a,{position:(t=n,new m.a.LatLng(t[1],t[0])),key:e.id,id:3,icon:p},a.createElement(j,{id:e.weatherStationId,street:e.street,airTemperature:e.airTemperature,surfaceTemperature:e.surfaceTemperature,windDirection:e.windDirection}))}):a.createElement(O,null))},S=n(20),N=function(e){var t=e.address,n=e.capacity,a=e.freePlaces,c=e.update,i=function(e){return void 0!==e?e:"Brak danych"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,null,r.a.createElement("p",null,"Adres: ",i(t)," "),r.a.createElement("p",null,"Og\xf3\u0142em miejsc: ",i(n)),r.a.createElement("p",null,"Wolnych miejsc: ",i(a)),r.a.createElement("p",null,"Ostatnia aktualizacja: ",i(c))))},C=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)(function(){c().then(function(e){r(e)})},[]);var c=function(){var e=Object(v.a)(g.a.mark(function e(){var t,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("parkings");case 2:return t=e.sent,e.next=5,y("parkingsData");case 5:return n=e.sent,e.abrupt("return",i(t,n));case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),i=function(e,t){return e.parkings.map(function(e){var n=t.filter(function(t){return t.parkingId===e.id});return Object(S.a)({},e,n[0])})};return a.createElement(a.Fragment,null,n.length?n.map(function(e){var t,n=e.location.coordinates;return a.createElement(E.a,{position:(t=n,new m.a.LatLng(t[1],t[0])),key:e.id,id:3,icon:d},a.createElement(N,{id:e.id,address:e.address,capacity:e.capacity,freePlaces:e.freePlaces,update:e.insertTime}))}):a.createElement(O,null))},D=(n(37),n(43)),L=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)(function(){i().then(function(e){c(e)})},[]);var i=function(){var e=Object(v.a)(g.a.mark(function e(){var t,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("roads");case 2:return t=e.sent,e.next=5,y("roadsData");case 5:return n=e.sent,e.abrupt("return",o(t.road_segments,n));case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),o=function(e,t){return t.map(function(t){var n=e.filter(function(e){return e.id===t.roadSegmentId});return Object.assign({},t,n[0])})},s=function(e){return e.map(function(e){return new m.a.LatLng(e[1],e[0])})};return r.a.createElement(r.a.Fragment,null,n.length?n.map(function(e){var t,n=e.geometry.coordinates;return r.a.createElement(D.a,{key:e.id,positions:s(n),color:(t=e.intensity,t<500?"#1b700b":t<1e3?"#6bbe2a":t<2e3?"#dd7f48":t<3e3?"#942c23":"#b71540")})}):r.a.createElement(O,null))},B=function(e){var t=e.activeLayer,n=Object(a.useState)(12),c=Object(u.a)(n,1)[0],i=f.centerCoordinates;return r.a.createElement("div",{className:"map__container"},r.a.createElement(o.a,{center:i,zoom:c,className:"map",style:{height:"100vh"}},r.a.createElement(s.a,{attribution:f.attribution,url:f.tileSource,ext:f.ext}),function(){switch(t){case"weather":return r.a.createElement(z,null);case"parkings":return r.a.createElement(C,null);case"traffic":return r.a.createElement(L,null);default:return r.a.createElement(r.a.Fragment,null)}}()))},I=(n(38),n(39),function(){return r.a.createElement("div",{className:"header"},"Gdynia Open Data Viewer")}),T=(n(40),function(e){var t=e.text,n=e.handleChange,a=e.id,c=e.value,i=e.name,u=e.initialChecked;return r.a.createElement("label",{className:"checkbox__label"},r.a.createElement("span",null,t),r.a.createElement("input",{name:i,type:"radio",className:"checkbox__input",value:c,onChange:function(){n(c)},defaultChecked:u,id:a}),r.a.createElement("span",{className:"checkbox__indicator"}))}),F=function(e){var t=e.handleLayerChange,n=function(e){t(e)};return a.createElement("div",{className:"menu__container"},a.createElement(I,null),a.createElement("h2",{className:"menu__header"},"Wybierz warstw\u0119"),a.createElement("div",{className:"menu__content"},a.createElement(T,{text:"Brak warstw",id:"none",handleChange:n,value:"",name:"chosen-layer",initialChecked:!0}),a.createElement(T,{text:"Dane pogodowe",id:"weather",handleChange:n,value:"weather",name:"chosen-layer"}),a.createElement(T,{text:"Miejsca parkingowe",id:"parkings",handleChange:n,value:"parkings",name:"chosen-layer"}),a.createElement(T,{text:"Dane o ruchu",id:"traffic",handleChange:n,value:"traffic",name:"chosen-layer"})))},A=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1];return r.a.createElement("div",{className:"main__container"},r.a.createElement(F,{handleLayerChange:function(e){c(e)}}),r.a.createElement(B,{activeLayer:n}))},W=function(){return a.createElement("div",{className:"app__container"},a.createElement(A,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[21,1,2]]]);
//# sourceMappingURL=main.53900d8a.chunk.js.map